async function postData(a){let b=await fetch("/api/comment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return b}async function putData(a,b){let c=await fetch(`/api/comment/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});return c}const createComment=async a=>{a.preventDefault();const b=window.location.pathname;let c=b.split("/").pop(),d={body:document.getElementById("comment-content").value,thread_id:c,comment_vote:0};if(!d.body)return void alert("Comments cannot be blank!");document.forms[0].reset();let e=await postData(d),f=document.querySelector("#msg pre");e.ok?(f.textContent="Comment created!",document.location.reload()):f.textContent="Comment creation failed. Make sure you're logged in!"};document.getElementById("btn").addEventListener("click",createComment);const updateComment=async(a,b)=>{const c=window.location.pathname;let d=c.split("/").pop(),e={...b,thread_id:d};if(!e.body)return void alert("pleezzze dont post blank comments.");document.forms[0].reset();let f=await putData(a,e),g=document.querySelector("#msg pre");f.ok?(g.textContent="Comment updated!",document.location.reload()):g.textContent="Comment update failed. Make sure you're logged in!"};function incrementVote(){let a=this.parentNode.getAttribute("commentID"),b=this.parentNode.getAttribute("commentVote"),c=this.parentNode.getAttribute("commentBody");b++,updateComment(a,{comment_vote:b,body:c})}function decrementVote(){let a=this.parentNode.getAttribute("commentID"),b=this.parentNode.getAttribute("commentVote"),c=this.parentNode.getAttribute("commentBody");b--,updateComment(a,{comment_vote:b,body:c})}let thumbsUpArray=document.getElementsByClassName("thumbsUpButton");for(let a=0;a<thumbsUpArray.length;a++)thumbsUpArray[a].addEventListener("click",incrementVote);let thumbsDownArray=document.getElementsByClassName("thumbsDownButton");for(let a=0;a<thumbsDownArray.length;a++)thumbsDownArray[a].addEventListener("click",decrementVote);